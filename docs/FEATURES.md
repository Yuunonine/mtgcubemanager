# MTG Cubes 機能一覧

MTGキューブ管理システムの全機能を詳しく紹介します。

## 🎯 機能概要

MTG Cubesは、Magic: The Gatheringのキューブドラフト用カードプール管理を効率化するWebアプリケーションです。

### コアバリュー
- **効率的なキューブ構築**: 迅速なカード検索・追加・管理
- **詳細な分析機能**: バランス調整に役立つ統計情報
- **使いやすさ**: 直感的なユーザーインターフェース
- **カスタマイズ**: セット選択など細かな設定が可能

## 📋 機能詳細

### 1. キューブ管理

#### 1.1 キューブ作成・編集
- **新規キューブ作成**: 名前と説明を設定してキューブを作成
- **キューブリスト表示**: 作成したキューブの一覧表示
- **基本情報編集**: キューブ名・説明の変更
- **カード数表示**: 現在のキューブサイズを常時表示

```
画面例: キューブ一覧
┌─────────────────────────────────────┐
│ MTG Cubes                    🌐 JP │
├─────────────────────────────────────┤
│ キューブ一覧                         │
├─────────────────────────────────────┤
│ 📦 Modern Cube 2024                 │
│    540枚 | 更新: 2023-12-15          │
│                                     │
│ 📦 Vintage Cube                     │
│    360枚 | 更新: 2023-12-10          │
│                                     │
│ [+ 新しいキューブを作成]              │
└─────────────────────────────────────┘
```

#### 1.2 キューブナビゲーション
- **タブ切り替え**: キューブ一覧↔個別キューブの切り替え
- **戻る機能**: キューブ一覧への簡単な移動
- **キューブ選択**: 複数キューブ間の切り替え

### 2. カード検索・管理

#### 2.1 高度なカード検索
- **日本語検索**: 「稲妻」「黒蓮の花弁」など日本語カード名
- **英語検索**: 「Lightning Bolt」「Black Lotus」など英語名
- **部分一致**: 「稲妻」→「連鎖稲妻」「稲妻のらせん」なども検索
- **高度なクエリ**: Scryfall構文をサポート

```
検索クエリ例:
t:creature cmc:3           # マナコスト3のクリーチャー
c:red c:white             # 赤白のカード
pow>=4 tou>=4             # パワー4以上、タフネス4以上
rarity:mythic             # 神話レア
set:neo                   # 神河輝ける世界のカード
```

#### 2.2 検索結果表示
- **グリッド表示**: カード画像中心の見やすい表示
- **ページング**: 大量の結果を効率的に表示
- **ページサイズ変更**: 12/18/24/36件から選択
- **カード詳細**: クリックで詳細情報を表示

```
画面例: カード検索結果
┌─────────────────────────────────────┐
│ 検索: Lightning Bolt  [検索]  ⚙     │
│ ────────────────────────────         │
│ 12件表示 ▼    [1] 2 3 ... 8        │
├─────────────────────────────────────┤
│ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐   │
│ │⚡  │ │⚡  │ │⚡  │ │⚡  │   │
│ │稲妻 │ │稲妻 │ │稲妻 │ │稲妻 │   │
│ │{R} │ │{R} │ │{R} │ │{R} │   │
│ │[追加]│ │⚙追加│ │[追加]│ │[追加]│   │
│ └─────┘ └─────┘ └─────┘ └─────┘   │
└─────────────────────────────────────┘
```

#### 2.3 カード追加オプション
- **通常追加**: カード検索結果から直接追加
- **セット選択追加**: 歯車アイコンから特定セット版を選択
- **重複防止**: 同一カードの重複追加を防止
- **エラーハンドリング**: 追加失敗時の適切なフィードバック

### 3. セット選択機能 🌟

#### 3.1 セット選択ダイアログ
- **全セット表示**: 指定カードの収録セット一覧
- **画像プレビュー**: 各セット版の実際の画像表示
- **詳細情報**: セット名・コード・コレクター番号・発売日
- **ワンクリック選択**: 希望するセット版を選択

```
画面例: セット選択ダイアログ
┌─────────────────────────────────────┐
│ セット選択 - Lightning Bolt    ❌    │
├─────────────────────────────────────┤
│ ┌─────────┐ ┌─────────┐ ┌─────────┐ │
│ │   ⚡    │ │   ⚡    │ │   ⚡    │ │
│ │         │ │         │ │         │ │
│ │         │ │         │ │         │ │
│ │  Alpha  │ │  Beta   │ │Unlimited│ │
│ │   LEA   │ │   LEB   │ │   2ED   │ │
│ │  #161   │ │  #161   │ │  #161   │ │
│ │1993-08  │ │1993-10  │ │1993-12  │ │
│ │ common  │ │ common  │ │ common  │ │
│ └─────────┘ └─────────┘ └─────────┘ │
├─────────────────────────────────────┤
│              [キャンセル]            │
└─────────────────────────────────────┘
```

#### 3.2 セット版管理
- **画像優先表示**: 選択されたセット版の画像を使用
- **メタデータ保存**: 選択されたセット情報をデータベースに保存
- **表示統一**: キューブ内の全表示で選択されたセット版を使用

### 4. キューブ表示・管理

#### 4.1 表示モード切り替え
- **グリッド表示**: カード画像を中心とした視覚的表示
- **リスト表示**: テーブル形式の詳細情報表示
- **表示切り替え**: 右上アイコンでモード切り替え

```
グリッド表示例:
┌─────────────────────────────────────┐
│ Modern Cube (540枚)   [⋮⋮⋮] [☰]    │
├─────────────────────────────────────┤
│ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐   │
│ │⚡  │ │🔥  │ │❄️  │ │🌱  │   │
│ │稲妻 │ │火球 │ │対抗 │ │巨大化│   │
│ │{R} │ │{XR}│ │{U} │ │{G} │   │
│ │ 🗑️ │ │ 🗑️ │ │ 🗑️ │ │ 🗑️ │   │
│ └─────┘ └─────┘ └─────┘ └─────┘   │
└─────────────────────────────────────┘

リスト表示例:
┌─────────────────────────────────────┐
│ 📷│名前    │コスト│タイプ    │レア│セット│
├───┼────────┼─────┼──────────┼────┼─────┤
│⚡│稲妻    │{R}  │インスタント│C  │LEA │
│🔥│火球    │{XR} │ソーサリー │C  │LEA │
│❄️│対抗    │{U}  │インスタント│C  │LEA │
│🌱│巨大化  │{G}  │ソーサリー │C  │LEA │
└─────────────────────────────────────┘
```

#### 4.2 カード詳細表示
- **カードクリック**: カード詳細ダイアログを表示
- **大画像表示**: カードの鮮明な画像表示
- **テキスト表示**: Oracle テキストの表示
- **価格情報**: 現在の市場価格表示（取得可能な場合）

#### 4.3 カード削除
- **削除ボタン**: 各カードの削除アイコン（🗑️）
- **確認ダイアログ**: 誤削除防止の確認メッセージ
- **即座反映**: 削除後すぐにリストから除去

### 5. キューブ分析 📊

#### 5.1 基本統計
- **総カード数**: キューブの現在のサイズ
- **平均マナコスト**: 全カードのCMC平均値
- **リアルタイム更新**: カード追加・削除で即座に更新

#### 5.2 カラーバランス分析
- **円グラフ表示**: 各色の視覚的な比率表示
- **詳細な色分け**:
  - 白 (W): 白単色のカード
  - 青 (U): 青単色のカード  
  - 黒 (B): 黒単色のカード
  - 赤 (R): 赤単色のカード
  - 緑 (G): 緑単色のカード
  - 多色: 2色以上のマルチカラーカード
  - 無色: アーティファクト・土地など

```
画面例: カラーバランス円グラフ
        多色 (10%)
    白 (20%)     無色 (10%)
      🤍          ⚫
  緑 (20%)        青 (20%)
    🟢      🔵
      🔴
    赤 (20%)
```

#### 5.3 マナカーブ分析
- **棒グラフ表示**: マナコストごとのカード数分布
- **横軸**: マナコスト（0, 1, 2, 3, 4, 5, 6, 7+）
- **縦軸**: カード数
- **理想カーブとの比較**: ドラフト環境の理想的なマナカーブとの比較

```
画面例: マナカーブ
カード数
  ▲
  │     ■
100│     ■  ■
  │     ■  ■
 80│  ■  ■  ■
  │  ■  ■  ■  ■
 60│  ■  ■  ■  ■
  │  ■  ■  ■  ■
 40│  ■  ■  ■  ■  ■
  │  ■  ■  ■  ■  ■
 20│  ■  ■  ■  ■  ■  ■
  │  ■  ■  ■  ■  ■  ■  ■
  └─┴──┴──┴──┴──┴──┴──┴──►
    0  1  2  3  4  5  6 7+ マナコスト
```

#### 5.4 カードタイプ分布
- **棒グラフ**: カードタイプごとの数量
- **分類**:
  - クリーチャー: 生物カード
  - インスタント: 瞬間魔法
  - ソーサリー: 魔法
  - エンチャント: エンチャント
  - アーティファクト: アーティファクト
  - プレインズウォーカー: プレインズウォーカー
  - 土地: 土地カード

#### 5.5 レアリティ分布
- **ピエチャート**: 希少度ごとの割合
- **分類**:
  - コモン (C): よくあるカード
  - アンコモン (U): あまりないカード
  - レア (R): 珍しいカード
  - 神話レア (M): 非常に珍しいカード

### 6. 多言語対応 🌐

#### 6.1 UI言語切り替え
- **言語ボタン**: 右上の地球アイコン（🌐）
- **サポート言語**: 日本語（JP）・英語（EN）
- **即座切り替え**: リロード不要のリアルタイム切り替え

#### 6.2 カードテキスト翻訳
- **日本語モード**:
  - カード名: 日本語名（利用可能な場合）
  - タイプライン: 「インスタント」「クリーチャー — 人間・戦士」
  - カードテキスト: 日本語翻訳
  - レアリティ: 「コモン」「アンコモン」「レア」「神話レア」

- **英語モード**:
  - カード名: 英語オリジナル名
  - タイプライン: 「Instant」「Creature — Human Warrior」
  - カードテキスト: 英語オリジナルテキスト
  - レアリティ: 「common」「uncommon」「rare」「mythic」

#### 6.3 検索言語対応
- **バイリンガル検索**: 日本語・英語どちらでも検索可能
- **自動変換**: 検索語の自動翻訳・変換
- **結果最適化**: 言語設定に応じた最適な結果表示

### 7. ユーザーインターフェース

#### 7.1 レスポンシブデザイン
- **デスクトップ**: 大画面での多カラム表示
- **タブレット**: 中画面での最適化された表示
- **モバイル**: スマートフォンでの縦持ち対応

#### 7.2 マテリアルデザイン
- **Google Material Design**: 統一された美しいデザイン
- **インタラクティブ**: ホバー効果・トランジション
- **アクセシビリティ**: 色覚異常・スクリーンリーダー対応

#### 7.3 パフォーマンス
- **高速表示**: 画像の遅延読み込み
- **スムーズ操作**: 60fps のアニメーション
- **メモリ効率**: 大量のカード表示でもメモリ使用量を最適化

### 8. データ管理

#### 8.1 永続化
- **ローカルストレージ**: SQLite データベース
- **自動保存**: カード追加・削除の即座保存
- **データ整合性**: トランザクション処理による整合性保証

#### 8.2 バックアップ（Docker環境）
- **自動バックアップ**: Docker管理スクリプトでのバックアップ
- **復元機能**: 過去のバックアップからの復元
- **データ移行**: 環境間でのデータ移行サポート

## 🚀 今後の機能予定

### Phase 2: 共有機能
- **エクスポート**: CSV/JSON/TXT形式でのキューブエクスポート
- **インポート**: 他のツールからのキューブインポート
- **URL共有**: キューブのURL共有機能

### Phase 3: 分析強化
- **アーキタイプ分析**: ドラフトアーキタイプの分析
- **パワーレベル分析**: カードのパワーレベル評価
- **プライス分析**: キューブの総価値計算

### Phase 4: 協調機能  
- **マルチユーザー**: 複数人でのキューブ管理
- **リアルタイム共同編集**: 同時編集機能
- **コメント機能**: カードへのコメント・評価

### Phase 5: 高度な機能
- **AI推奨**: AIによるカード推奨機能
- **シミュレーション**: ドラフトシミュレーション
- **統計比較**: 他のキューブとの比較分析

## 📱 対応環境

### ブラウザサポート
- **Chrome**: 90+ (推奨)
- **Firefox**: 88+
- **Safari**: 14+
- **Edge**: 90+

### デバイスサポート
- **デスクトップ**: Windows, macOS, Linux
- **タブレット**: iPad, Android タブレット
- **モバイル**: iOS, Android スマートフォン

### アクセシビリティ
- **キーボード操作**: フルキーボードサポート
- **スクリーンリーダー**: ARIA属性による対応
- **色覚サポート**: 色だけに依存しない情報表示

---

この機能一覧が、MTG Cubesの能力と可能性をお伝えできれば幸いです。ご質問や追加機能のご要望は、GitHubのIssueでお知らせください！ 🎲✨